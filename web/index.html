<!doctype html>

<html lang="zh-tw">
<head>
  <meta charset="utf-8">

  <title>The HTML5 Herald</title>

  <link rel="stylesheet" href="styles.css">
</head>

    
    
    
    
    
    
    <body>
        <!-- needed for Eel to work-->
        <script type="text/javascript" src="/eel.js"></script>
        
        <h1>Test Your Reactions!</h1>
        <p>Click on the boxes and circles as quickly as you can!</p>
        <p class="bold">Your time: <span id="timeTaken"></span></p>
        
        <p class="bold">Pressed E: <span id="timeTaken2"></span></p>
        
        <!-- Call pure JS (no data communication) -->
        <button onclick="getRT()">RT</button>
        
        <!-- Call python -->
        <button onclick="eel.my_python_function()">Click me</button>
        
        <!-- Call exposed JS -->
        <button onclick="getRTarray()">Click me</button>
        
        
        
        
        <!-- JS function for RT-->
        <script type="text/javascript">
            var start = new Date().getTime();
            var RTs = new Array();
            var detect_key = true;
            
            
            function getRT() {
                var end = new Date().getTime();
                var timeTaken = (end - start) / 1000;
                document.getElementById("timeTaken").innerHTML = timeTaken + "s";
                
                start = new Date().getTime();     
            }

            function getRT2() {
                var end = new Date().getTime();
                var timeTaken = (end - start) / 1000;
                return timeTaken
            }

            
            document.onkeydown = function(e){
                e = e || window.event;
                if (e.keyCode == 69){      // keycode for e   i: 73
                    rt = getRT2()
                    
                    if (detect_key) {
                        document.getElementById("timeTaken2").innerHTML = rt + "s";
                        RTs.push(rt)
                        console.log(RTs)
                        return rt
                    }
                 }
            }
            
            
            eel.expose(getRTarray)
            function() getRTarray() {
                return RTs
            }
            
        </script>
    </body>
    
    
    
    
    
    
    
    
    

</html>